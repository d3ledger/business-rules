dependencies {

    compile project(':brvs-rules')
    // MongoDB
    compile('org.mongodb:mongodb-driver-sync:3.10.1')
    // unit tests
    testCompile('org.junit.jupiter:junit-jupiter-api:5.4.0')
    testRuntime('org.junit.jupiter:junit-jupiter-engine:5.4.0')
    // Test containers iroha
    testCompile('com.github.hyperledger.iroha-java:testcontainers:1.0.0_rc2-SNAPSHOT')
}

test {
    useJUnitPlatform {}
}

jar {
    manifest {
        attributes(
                'Main-Class': 'iroha.validation.Application'
        )
    }
}

import com.github.jengelman.gradle.plugins.shadow.transformers.ServiceFileTransformer

shadowJar {
    transform(ServiceFileTransformer) {
        path = 'META-INF'
        include 'spring.*'
    }
}
